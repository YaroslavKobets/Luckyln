(()=>{"use strict";document.querySelector(".swiper")&&new Swiper(".swiper",{loop:!1,slidesPerView:"auto",watchOverflow:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});const e=document.querySelector(".header__icon"),t=document.querySelector(".menu__body");window.addEventListener("scroll",(function(){this.document.querySelector("header").classList.toggle("sticky",window.scrollY>0)})),e&&e.addEventListener("click",(function(o){document.body.classList.toggle("lock"),e.classList.toggle("active"),t.classList.toggle("active")}));const o=document.querySelectorAll("a[data-goto]");if(o.length>0){function s(o){const s=o.target;if(s.dataset.goto&&document.querySelector(s.dataset.goto)){const i=document.querySelector(s.dataset.goto).getBoundingClientRect().top+scrollY-document.querySelector("header").offsetHeight;e.classList.contains("active")&&(e.classList.remove("active"),t.classList.remove("active"),document.body.classList.remove("lock")),window.scrollTo({top:i,behavior:"smooth"}),o.preventDefault()}}o.forEach((e=>{e.addEventListener("click",s)}))}new class{constructor(e){this.options=Object.assign({isOpen:()=>{},isClose:()=>{}},e),this.modal=document.querySelector(".modal"),this.speed=!1,this.animation=!1,this.isOpen=!1,this.modalContainer=!1,this.previousActiveElement=!1,this.fixBlocks=document.querySelectorAll(".fix-block"),this.focusElements=["a[href]","input","button","select","textarea","[tabindex]"],this.events()}events(){this.modal&&(document.addEventListener("click",function(e){const t=e.target.closest("[data-path]");if(t){let e=t.dataset.path,o=t.dataset.animation,s=t.dataset.speed;return this.animation=o||"fade",this.speed=s?parseInt(s):300,this.modalContainer=document.querySelector(`[data-target="${e}"]`),void this.open()}e.target.closest(".modal__close")&&this.close()}.bind(this)),window.addEventListener("keydown",function(e){27==e.keyCode&&this.isOpen&&this.close(),9==e.keyCode&&this.isOpen&&this.focusCatch(e)}.bind(this)),this.modal.addEventListener("click",function(e){e.target.classList.contains("modal__container")||e.target.closest(".modal__container")||!this.isOpen||this.close()}.bind(this)))}open(){this.previousActiveElement=document.activeElement,this.modal.style.setProperty("--transition-time",this.speed/1e3+"s"),this.modal.classList.add("is-open"),this.disableScroll(),this.modalContainer.classList.add("modal-open"),this.modalContainer.classList.add(this.animation),setTimeout((()=>{this.options.isOpen(this),this.modalContainer.classList.add("animate-open"),this.isOpen=!0,this.focusTrap()}),this.speed)}close(){this.modalContainer&&(this.modalContainer.classList.remove("animate-open"),this.modalContainer.classList.remove(this.animation),this.modal.classList.remove("is-open"),this.modalContainer.classList.remove("modal-open"),this.enableScroll(),this.options.isClose(this),this.isOpen=!1,this.focusTrap())}focusCatch(e){const t=this.modalContainer.querySelectorAll(this.focusElements),o=Array.prototype.slice.call(t),s=o.indexOf(document.activeElement);e.shiftKey&&0===s&&(o[o.length-1].focus(),e.preventDefault()),e.shiftKey||s!==o.length-1||(o[0].focus(),e.preventDefault())}focusTrap(){const e=this.modalContainer.querySelectorAll(this.focusElements);this.isOpen?e[0].focus():this.previousActiveElement.focus()}disableScroll(){let e=window.scrollY;this.lockPadding(),document.body.classList.add("disable-scroll"),document.body.dataset.position=e,document.body.style.top=-e+"px"}enableScroll(){let e=parseInt(document.body.dataset.position,10);this.unlockPadding(),document.body.style.top="auto",document.body.classList.remove("disable-scroll"),window.scroll({top:e,left:0}),document.body.removeAttribute("data-position")}lockPadding(){let e=window.innerWidth-document.body.offsetWidth+"px";this.fixBlocks.forEach((t=>{t.style.paddingRight=e})),document.body.style.paddingRight=e}unlockPadding(){this.fixBlocks.forEach((e=>{e.style.paddingRight="0px"})),document.body.style.paddingRight="0px"}}({isOpen:e=>{console.log(e),console.log("opened")},isClose:()=>{console.log("closed")}}),(()=>{const e=document.querySelector("form.contact-form");if(e){const t=e.querySelectorAll(".required");let o=document.querySelector('input[type="tel"]');new Inputmask({mask:"+380 (99) 999-99-99",regex:"\\d*"}).mask(o),e.addEventListener("submit",(e=>{e.preventDefault();let o=0;if(t.forEach((e=>{"phone"==e.name?e.value.length<10?(e.parentNode.classList.add("error"),o++):e.parentNode.classList.remove("error"):e.value.length<3?(e.parentNode.classList.add("error"),o++):e.parentNode.classList.remove("error")})),o>0)return setTimeout((()=>{t.forEach((e=>e.parentNode.classList.remove("error")))}),3e3),!1;document.querySelector(".modal__first").style.display="none",document.querySelector(".modal__send").style.display="block"}))}})()})();